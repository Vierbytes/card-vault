/**
 * Loader Component Styles
 *
 * A cute Pokeball loading animation. The ball wobbles back and forth
 * like it's trying to catch a Pokemon. Found this effect on uiverse.io
 * and adapted it for our app.
 *
 * The loader centers itself and shows a message underneath.
 */

/* ============================================
   LOADER CONTAINER
   Centers the ball + text vertically/horizontally
   ============================================ */

.loader-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  gap: 1.5rem;
}

/* ============================================
   POKEBALL ANIMATION
   Uses ::before for the shadow and ::after for
   the ball itself. The ball wobbles using a
   keyframe with extreme cubic-bezier values.
   ============================================ */

.loader-ball {
  height: 60px;
  aspect-ratio: 1;
  position: relative;
}

/* Shadow underneath the ball */
.loader-ball::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  transform-origin: bottom;
  background: #ddd;
  filter: blur(8px);
  transform: scaleY(0.4) translate(-13px, 0px);
}

/* The Pokeball itself - built with layered radial/linear gradients
   I thought this was really clever - no images needed */
.loader-ball::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  transform-origin: bottom;
  background:
    radial-gradient(at 75% 15%, #fffb, #0000 35%),
    radial-gradient(at 80% 40%, #0000, #0008),
    radial-gradient(circle 5px, #fff 94%, #0000),
    radial-gradient(circle 10px, #000 94%, #0000),
    linear-gradient(#f93318 0 0) top / 100% calc(50% - 5px),
    linear-gradient(#fff 0 0) bottom / 100% calc(50% - 5px)
    #000;
  background-repeat: no-repeat;
  animation: pokeball-wobble 1s infinite cubic-bezier(0.5, 120, 0.5, -120);
}

@keyframes pokeball-wobble {
  30%, 70% {
    transform: rotate(0deg);
  }
  49.99% {
    transform: rotate(0.2deg);
  }
  50% {
    transform: rotate(-0.2deg);
  }
}

/* ============================================
   LOADING TEXT
   ============================================ */

.loader-text {
  color: var(--color-text-secondary);
  font-size: 0.95rem;
  font-weight: 500;
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .loader-ball::after {
    animation: none;
  }
}
